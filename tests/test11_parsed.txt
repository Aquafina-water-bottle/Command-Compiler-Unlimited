INITIALIZE
	fill 233 7 174 250 17 176 air 0

GROUP | Grp_MainStart | PULSE		[234 8 175 | stonebrick 0]
	setblock 234 8 175 stonebrick 0
	scoreboard objectives add LocN dummy Location Number ID
	scoreboard objectives add Loc dummy Location Fill
	scoreboard objectives add TeleNum dummy Location Teleport Number
	scoreboard objectives add Random dummy Location Rand
	summon ArmorStand 233 4 181 {Tags:["LocationEntity","LocationSummon"],Invulnerable:1,PersistenceRequired:1,Marker:1,NoGravity:1}
	execute @a ~ ~ ~ stats entity @a[c=1] set AffectedBlocks @a[c=1] Loc
	scoreboard players set @e[type=ArmorStand,tag=LocationSummon] Loc 0
	execute @e[type=ArmorStand,tag=LocationSummon] ~ ~ ~ stats entity @e[c=1,type=ArmorStand,tag=LocationSummon] set AffectedBlocks @e[c=1,type=ArmorStand,tag=LocationSummon] Loc
	setblock 234 12 175 redstone_block 0
	blockdata 236 10 175 {auto:1b}
	setblock 234 10 175 redstone_block 0

GROUP | Grp_SummonCounterTFClock | CLOCK		[234 10 175 | stonebrick 0]
	testfor @e[type=ArmorStand,tag=LocationSummon]
	setblock ~ ~ ~ repeating_command_block 13 replace {TrackOutput:0b,auto:1b}
	execute @e[type=ArmorStand,tag=LocationSummon] ~ ~ ~ summon AreaEffectCloud ~ ~ ~ {Tags:["LocationEntity","LocationCounter"],Duration:2147483647}
	scoreboard players add @e[type=AreaEffectCloud,tag=LocationCounter] LocN 0
	execute @e[type=ArmorStand,tag=LocationSummon] ~ ~ ~ fill ~ ~ ~ ~25 ~ ~ stone 4 replace stone 2
	execute @e[type=ArmorStand,tag=LocationSummon] ~ ~ ~ fill ~ ~ ~ ~25 ~ ~ stone 2 replace stone 4
	scoreboard players operation @e[type=ArmorStand,tag=LocationSummon] LocN += @e[type=ArmorStand,tag=LocationSummon] Loc
	scoreboard players operation @e[type=AreaEffectCloud,tag=LocationCounter,score_LocN=0,score_LocN_min=0] LocN = @e[type=ArmorStand,tag=LocationSummon] LocN
	scoreboard players add @e[type=ArmorStand,tag=LocationSummon] TeleNum 1
	minecraft:tp @e[type=ArmorStand,tag=LocationSummon] ~ ~ ~1
	minecraft:kill @e[type=ArmorStand,tag=LocationSummon,score_TeleNum=8,score_TeleNum_min=8]

GROUP | Grp_MainClock | CLOCK		[234 12 175 | stonebrick 0]
	minecraft:tp @a[tag=Loc] 233 5 181
	scoreboard players set @a[tag=Loc] Loc 0
	scoreboard players set @a[tag=Loc] LocN 0
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~15 ~-1 ~ stone 4 replace stone 2
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~15 ~-1 ~ stone 2 replace stone 4
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] LocN = @a[c=1] Loc
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] Loc -= @a[c=1] Random
	minecraft:tp @a[tag=Loc,score_Loc=-1] ~16 ~ ~
	execute @a[tag=Loc,score_Loc=-1] ~ ~ ~ scoreboard players operation @a[c=1] Random -= @a[c=1] LocN
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~7 ~-1 ~ stone 4 replace stone 2
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~7 ~-1 ~ stone 2 replace stone 4
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] LocN = @a[c=1] Loc
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] Loc -= @a[c=1] Random
	minecraft:tp @a[tag=Loc,score_Loc=-1] ~8 ~ ~
	execute @a[tag=Loc,score_Loc=-1] ~ ~ ~ scoreboard players operation @a[c=1] Random -= @a[c=1] LocN
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~3 ~-1 ~ stone 4 replace stone 2
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~3 ~-1 ~ stone 2 replace stone 4
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] LocN = @a[c=1] Loc
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] Loc -= @a[c=1] Random
	minecraft:tp @a[tag=Loc,score_Loc=-1] ~4 ~ ~
	execute @a[tag=Loc,score_Loc=-1] ~ ~ ~ scoreboard players operation @a[c=1] Random -= @a[c=1] LocN
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~1 ~-1 ~ stone 4 replace stone 2
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~1 ~-1 ~ stone 2 replace stone 4
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] LocN = @a[c=1] Loc
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] Loc -= @a[c=1] Random
	minecraft:tp @a[tag=Loc,score_Loc=-1] ~2 ~ ~
	execute @a[tag=Loc,score_Loc=-1] ~ ~ ~ scoreboard players operation @a[c=1] Random -= @a[c=1] LocN
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~0 ~-1 ~ stone 4 replace stone 2
	execute @a[tag=Loc] ~ ~ ~ fill ~ ~-1 ~ ~0 ~-1 ~ stone 2 replace stone 4
	execute @a[tag=Loc] ~ ~ ~ scoreboard players operation @a[c=1] Loc -= @a[c=1] Random
	minecraft:tp @a[tag=Loc,score_Loc=-1] ~1 ~ ~
	scoreboard players set @a[tag=Loc] Random 0
	scoreboard players tag @a[tag=Loc] remove Loc

GROUP | Grp_MainEnd | PULSE		[234 16 175 | stonebrick 0]
	setblock 234 16 175 stonebrick 0
	scoreboard objectives remove LocN
	scoreboard objectives remove Loc
	scoreboard objectives remove TeleNum
	scoreboard objectives remove Random
	minecraft:kill @e[tag=LocationEntity]
	setblock 234 12 175 stonebrick 0
	blockdata 236 10 175 {auto:0b}
	setblock 234 10 175 stonebrick 0

FINALIZE
	fill 233 6 174 236 4 177 air 0
	setblock 234 6 175 structure_block 0 replace {name:"CMDSave_Randomized_Location",mode:"SAVE",posX:0,posY:2,posZ:0,sizeX:16,sizeY:8,sizeZ:3}
	setblock 234 4 175 structure_block 0 replace {name:"CMDSave_Randomized_Location",mode:"LOAD",posX:0,posY:4,posZ:0}
	setblock 233 6 175 wooden_button 2
	setblock 233 4 175 wooden_button 2
	setblock 234 6 176 redstone_lamp 0
	setblock 234 4 176 redstone_lamp 0
	setblock 235 6 175 command_block 5 replace {TrackOutput:0b,Command:"setblock ~ ~ ~1 redstone_block 0"}
	setblock 234 8 175 stonebrick 0
	setblock 234 10 175 stonebrick 0
	setblock 234 12 175 stonebrick 0
	setblock 234 16 175 stonebrick 0

